@import "MatrixViewCommon.less";

.d-calendar-matrix-view {
	cursor: default;
	.select-none;

	.d-calendar-grid {
		position: absolute;
		left: @row-header-width;
		right: 0px;
		top: @column-header-height;
		bottom: 0px;
	}

	.d-calendar-grid-table {
		position: relative;
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
		border-collapse: collapse;
		table-layout: fixed;

		tr {
			.border-box;
		}

		td {
			text-align: right;
			vertical-align: top;
			border-bottom: @inner-border;
			border-right: @inner-border;
			.border-box;
		}

		td span {
			padding-right: 2px;
			padding-top: 2px;
		}

		tr:last-child td {
			border-bottom: @outer-border;
		}

		td:last-child {
			border-right: @outer-border;
		}

		/*
		 * The d-calendar-col-today & d-calendar-col-weekend classes are added by the
		 * MatrixView.styleGridCell method that can be subclassed to add/remove css classes
		 */
		td.d-calendar-today {
			background-color: @today-color;
			font-weight: bold;
			color: @today-label-color;
		}

		.d-calendar-weekend {
			background-color: @week-end-color;
			color: @week-end-label-color;
		}

		.d-calendar-day-disabled {
			background-color: @disabled-day-color;
			color: @disabled-day-label-color;
		}
	}

	.d-calendar-year-column-header {
		position: absolute;
		left: 0px;
		top: 0px;
		width: @row-header-width;
		height: @column-header-height - 1px;
		text-align: center;
		vertical-align: middle;
		border-bottom: @outer-border;

		table {
			position: relative;
			width:100%;
			height: 100%;
			table-layout: fixed;
			border-collapse: collapse;

			td {
				text-align: center;
				vertical-align: middle;
				border-left: @outer-border;
				border-top: @outer-border;
				border-right: @outer-border;
				.header-background;
				color: @label-color;
			}
		}
	}

	.d-calendar-column-header {
		position: absolute;
		left: @row-header-width;
		right: 0px;
		top: 0px;
		height: @column-header-height - 1px;
		cursor: default;
		border-bottom: @outer-border;
	}

	.d-calendar-column-header-table {
		position: relative;
		width:100%;
		height: 100%;
		table-layout: fixed;
		border-collapse: collapse;

		td {
			overflow:hidden;
			vertical-align: middle;
			text-align: center;
			.header-background;
			border-right: @inner-border;
			border-top: @outer-border;
			.select-none;
			color: @label-color;
		}

		td:last-child {
			border-right: @outer-border;
		}

		/*
		 * The d-calendar-col-weekend class is added by the
		 * ColumnView.styleColumnHeaderCell method that can be subclassed to add/remove css class.
		 */
		.d-calendar-weekend {
			color: @week-end-label-color;
		}
	}

	.d-calendar-row-header {
		position: absolute;
		left: 0px;
		top: @column-header-height;
		width: @row-header-width;
		bottom: 0;
		cursor: default;

		.select-none;
	}

	.d-calendar-row-header-table {
		position: relative;
		width: 100%;
		height: 100%;
		border-collapse: collapse;
		table-layout: fixed;
		margin: 0;
		padding: 0;

		tr {
			.border-box;
		}

		/*
		 * The MatrixView.styleRowHeaderCell method that can be subclassed to add/remove css classes per hour.
		 */
		td {
			text-align: center;
			vertical-align: middle;
			border-left: @outer-border;
			border-right: @outer-border;
			border-bottom: @inner-border;
			background-color: @row-color;
			.transition-duration(0.2s);
			.border-box;
			color: @label-color;
			cursor: pointer;
		}

		td:last-child {
			border-bottom: @outer-border;
		}

		td:hover {
			background-color: @row-color-hover;
		}

		td:active {
			background-color: @row-color-active;
		}
	}

	.d-calendar-container {
		position: absolute;
		top: @column-header-height;
		left: @row-header-width;
		right: 0px;
		bottom: 0px;
		cursor: default;
	}

	.d-calendar-container-table {
		position: relative;
		width: 100%;
		height: 100%;
		margin: 0;
		padding: 0;
		border-collapse: collapse;
		table-layout: fixed;

		tr {
			.border-box;
		}

		td {
			vertical-align: top;
			border-bottom: solid 1px transparent;
			border-right: solid 1px transparent;
			.border-box;
		}

		td div.d-calendar-container-row {
			position:relative;
			height:100%;
			width:100%;
		}

		// All event (task) renderers need to be position: absolute, even if they don't set the
		// d-calendar-event class.
		.d-calendar-container-row > * {
			position: absolute;
		}
	}

	.d-calendar-event-container {
		position: absolute;
		overflow: hidden;
		.select-none;
	}

	.d-calendar-decoration {
		display: block;
		position: absolute;
		background-color: rgb(167, 233, 68);
		.opacity(20);
	}

	.d-calendar-event {
		display: block;
		position: absolute;
		text-align: left;
		color: #000;
		cursor: default;
		white-space: nowrap;
	}

	.d-calendar-event.d-calendar-horizontal {
		color: #FFF;
	}

	.d-calendar-event.d-calendar-horizontal .bg {
		border: @horizontal-border;
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;
		color: #000;
		.rounded-corners(5px);
		background-color: @horizontal-color;
	}

	.d-calendar-event.d-calendar-horizontal.hovered  .bg {
		background-color: @horizontal-hover-color;
	}

	.d-calendar-event.d-calendar-horizontal.selected .bg {
		background-color: @horizontal-selected-bg-color;
	}

	.d-calendar-event.edited {
		color: #FFF;
		font-weight: bold;
		text-decoration: none;
	}

	.d-calendar-event.d-calendar-horizontal.edited .bg {
		border: dashed 1px #FFF;
		.opacity(30);
	}

	.d-calendar-event.d-calendar-horizontal.focused .bg {
		border: dashed 1px #FFF;
	}

	.d-calendar-event.d-calendar-label.hovered {
		color: #F40;
	}

	.d-calendar-event.d-calendar-label.selected {
		color: #F00;
	}

	.d-calendar-event.d-calendar-label.edited {
		border: dashed 1px #FFF;
		background: #600;
		.opacity(30);
		color: #FFF;
	}

	.d-calendar-event.d-calendar-label.focused {
		border: dashed 1px #000;
	}

	.d-calendar-event.d-calendar-horizontal .labels {
		position: absolute;
		left: 3px;
		right: 1px;
		bottom: 2px;
		overflow: hidden;
	}

	.d-calendar-event.d-calendar-label .labels {
		position: absolute;
		left: 2px;
		right: 2px;
		bottom: 0;
		overflow: hidden;
	}

	.d-calendar-event .handle {
		.glass-view;
		position: absolute;
		width:5px;
		height:100%;
		cursor:e-resize;
	}

	.d-calendar-event .move-handle {
		left:0;
		top:0;
		width:100%;
		cursor:move;
	}

	.d-calendar-event .resize-start-handle {
	}

	.d-calendar-event .resize-end-handle {
		right:0px;
	}

	.d-calendar-expand {
		display: block;
		position: absolute;
		text-align: center;

		span {
			display: inline-block;
			vertical-align: middle;
			}

		.bg {
			position: relative;
			margin-right: 5px;
			margin-left: 5px;
			height: 100%;
			.rounded-corners(5px);
			.transition-duration(0.2s);
			.border-box;
			border: 1px solid transparent;
		}
	}

	.d-calendar-expand.up .bg {
		background-color: @expand-up-color;
		border: 1px solid @expand-up-color - #555;
	}

	.d-calendar-expand.down .bg {
		background-color: @expand-down-color;
		border: 1px solid @expand-down-color - #555;
	}

}
